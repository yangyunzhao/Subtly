<view class="page">
  <text class="title">Detail</text>
  <text class="subtitle">查看 / 编辑记录</text>

  <view class="section">
    <text class="section-title">健身记录</text>
    <van-cell-group inset>
      <picker mode="date" value="{{form.date}}" bindchange="onDateChange">
        <van-field
          label="日期"
          required
          readonly
          is-link
          value="{{form.date || '请选择日期'}}"
        />
      </picker>
      <picker mode="selector" range="{{workoutTypes}}" value="{{form.typeIndex}}" bindchange="onTypeChange">
        <van-field
          label="项目"
          required
          readonly
          is-link
          value="{{workoutTypes[form.typeIndex]}}"
        />
      </picker>
      <van-field
        label="时长"
        type="number"
        placeholder="输入分钟"
        input-align="right"
        data-field="duration"
        bind:input="onInputChange"
        value="{{form.duration}}"
      >
        <text slot="right-icon" class="input-unit">分钟</text>
      </van-field>
      <van-field
        label="次数"
        type="number"
        placeholder="输入次数"
        input-align="right"
        data-field="count"
        bind:input="onInputChange"
        value="{{form.count}}"
      >
        <text slot="right-icon" class="input-unit">次</text>
      </van-field>
      <van-field
        label="热量消耗"
        type="number"
        placeholder="输入热量"
        input-align="right"
        data-field="calories"
        bind:input="onInputChange"
        value="{{form.calories}}"
      >
        <text slot="right-icon" class="input-unit">千卡</text>
      </van-field>
      <van-field
        label="备注"
        type="textarea"
        placeholder="补充说明"
        autosize
        data-field="notes"
        bind:input="onInputChange"
        value="{{form.notes}}"
      />
    </van-cell-group>
  </view>

  <view class="section">
    <text class="section-title">身体数据</text>
    <van-cell-group inset>
      <van-field
        label="体重"
        type="digit"
        placeholder="输入体重"
        input-align="right"
        data-field="weight"
        bind:input="onInputChange"
        value="{{form.weight}}"
      >
        <text slot="right-icon" class="input-unit">斤</text>
      </van-field>
      <van-field
        label="腰围"
        type="digit"
        placeholder="输入腰围"
        input-align="right"
        data-field="waistline"
        bind:input="onInputChange"
        value="{{form.waistline}}"
      >
        <text slot="right-icon" class="input-unit">cm</text>
      </van-field>
    </van-cell-group>
  </view>

  <view class="section">
    <van-button type="primary" block bind:click="onSaveFitness">保存健身记录</van-button>
    <view class="section">
      <van-button type="primary" block bind:click="onSaveBody">保存身体数据</van-button>
    </view>
    <view class="section">
      <van-button type="danger" block bind:click="onDelete">删除记录</van-button>
    </view>
    <view class="section">
      <van-button type="default" block bind:click="goHome">返回 Home</van-button>
    </view>
  </view>
</view>
