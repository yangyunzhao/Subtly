<view class="page">
  <text class="title">历史记录</text>
  <text class="subtitle">分别查看健身与身体数据</text>

  <view class="section">
    <text class="section-title">筛选</text>
    <view class="filter-row">
      <van-button
        wx:for="{{filters}}"
        wx:key="value"
        size="small"
        type="{{activeFilter === item.value ? 'primary' : 'default'}}"
        data-value="{{item.value}}"
        bind:click="onFilterChange"
      >
        {{item.label}}
      </van-button>
    </view>
  </view>

  <view class="section">
    <text class="section-title">健身记录</text>
    <van-cell-group inset wx:if="{{fitnessList.length}}">
      <van-cell
        wx:for="{{fitnessList}}"
        wx:key="id"
        title="{{item.title}}"
        label="{{item.label}}"
        is-link
        data-id="{{item.id}}"
        bind:click="goToFitnessDetail"
      />
    </van-cell-group>
    <view class="empty-state" wx:else>
      <text class="empty-title">暂无健身记录</text>
      <text class="empty-desc">去记录一次训练吧。</text>
      <view class="section">
        <van-button type="default" size="small" bind:click="goToLog">去记录</van-button>
      </view>
    </view>
  </view>

  <view class="section">
    <text class="section-title">身体数据</text>
    <van-cell-group inset wx:if="{{bodyList.length}}">
      <van-cell
        wx:for="{{bodyList}}"
        wx:key="id"
        title="{{item.title}}"
        label="{{item.label}}"
        is-link
        data-id="{{item.id}}"
        bind:click="goToBodyDetail"
      />
    </van-cell-group>
    <view class="empty-state" wx:else>
      <text class="empty-title">暂无身体数据</text>
      <text class="empty-desc">记录体重或腰围，方便查看趋势。</text>
      <view class="section">
        <van-button type="default" size="small" bind:click="goToLog">去记录</van-button>
      </view>
    </view>
  </view>

  <view class="section" wx:if="{{!fitnessList.length && !bodyList.length}}">
    <text class="section-title">整体空状态</text>
    <view class="empty-state">
      <text class="empty-title">还没有记录</text>
      <text class="empty-desc">去记录一次健身或身体数据吧。</text>
      <view class="section">
        <van-button type="default" size="small" bind:click="goToLog">去记录</van-button>
      </view>
    </view>
  </view>

  <view class="section">
    <van-button type="default" block bind:click="goHome">返回首页</van-button>
  </view>
</view>
